---
title: "Importation des données"
description: | 
  Cette section a pour objectif de présenter les données utilisées dans ce rapport ainsi que leur source.
date: "`r Sys.Date()`"
# Modifier les détails que vous voulez
author:
  - first_name: "Stéphanie"
    last_name: "Lapierre"
    url: https://github.com/stephanielapierre
    # les champs d'affiliation sont optionnels, vous pouvez les
    # comment out en ajoutant un # devant.
    affiliation: FAS1002
    affiliation_url: https://admission.umontreal.ca/programmes/microprogramme-de-1er-cycle-en-analyse-des-megadonnees-en-sciences-humaines-et-sociales/structure-du-programme/
    # changer pour votre propre orcid id
    # https://orcid.org/ pour vous inscrire.
    # orcid_id: 0000-0000-0000-0000
# Changer pour votre propre URL si jamais quelqu'un vous cite!
citation_url: https://fas1002.github.io/FAS1002_projet-final
# Inclure les références que vous utilisez dans vos rapports
# dans un fichier biblio.bib. Je conseille Zotero pour construire
# ce fichier ou d'utiliser le package citr dans RStudio.
# Installation: devtools::install_github("crsh/citr")
bibliography: references.bib
output: distill::distill_article
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)

library(tidyverse)
```

Vous pouvez maintenant importer et travailler sur vos données, comme celles de @mathieu2021.


### Différents niveaux de titres

Dans vos différents documents, assurez-vous de bien utiliser la notation avec du Markdown et autres. 


### Appeler les données de Our World in Data

```{r}
data_URL <- read.csv("https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/vaccinations/vaccinations.csv")
write.csv(data_URL, file = paste('data/raw/vaccination_', Sys.Date(), '.csv'))

df_vaccination <- data_URL

df_vaccination$location <- as.factor(df_vaccination$location)
df_vaccination$iso_code <- as.factor(df_vaccination$iso_code)
df_vaccination$date <- as.Date(df_vaccination$date)

summary(df_vaccination)
```

La variable `location` contient autant des pays que des régions. Afin de pouvoir distinguer les pays des régions, il faut ajouter une nouvelle variable. 

```{r}
df_vaccination$type_location <- str_detect(df_vaccination$iso_code, "OWID_")
df_vaccination$type_location <- str_replace(df_vaccination$type_location, "TRUE", "region")
df_vaccination$type_location <- str_replace(df_vaccination$type_location, "FALSE", "country")
df_vaccination$type_location <- as.factor(df_vaccination$type_location)
```
